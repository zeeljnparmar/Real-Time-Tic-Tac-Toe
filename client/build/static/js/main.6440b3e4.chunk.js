(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,n){},109:function(e,t,n){},111:function(e,t,n){},119:function(e,t,n){},124:function(e,t){},126:function(e,t){},158:function(e,t){},160:function(e,t){},161:function(e,t){},166:function(e,t){},168:function(e,t){},188:function(e,t){},204:function(e,t){},207:function(e,t){},214:function(e,t,n){},215:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(39),a=n.n(r),i=(n(108),n(5)),l=(n(26),n(109),n(1));var j=e=>{let[t,n]=Object(c.useState)("");return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)("div",{className:"mt-5",children:Object(l.jsx)("center",{children:Object(l.jsx)("h2",{children:"Tic Tac Toe"})})}),Object(l.jsx)("div",{className:"mt-5",children:Object(l.jsx)("center",{children:Object(l.jsx)("input",{type:"text",placeholder:"Enter Username..",value:t,style:{paddingLeft:"8px"},onChange:e=>{n(e.target.value)}})})}),Object(l.jsx)("div",{className:"mt-3",children:Object(l.jsx)("center",{children:Object(l.jsx)("button",{className:"btn next-btn",onClick:()=>{t.length>0?e.history.push(`/room/${t}`):alert("Please Fill Username")},children:"Next"})})})]})})};n(111);var o=e=>{let t=Object(i.g)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"container-fuild",children:[Object(l.jsx)("div",{className:"mt-5",children:Object(l.jsx)("center",{children:Object(l.jsx)("h2",{children:"Tic Tac Toe"})})}),Object(l.jsx)("div",{className:"mt-5",children:Object(l.jsxs)("center",{children:[Object(l.jsx)("button",{className:"btn create-btn",onClick:()=>{e.history.push(`/${t.username}/create-room`)},children:"Create Room"}),Object(l.jsx)("p",{className:"mt-1",children:"Or"}),Object(l.jsx)("button",{className:"btn join-btn",onClick:()=>{e.history.push(`/${t.username}/join-room`)},children:"Join Room"})]})})]})})},d=(n(119),n(99)),b=n(101),h=n.n(b),m=n(100);var u=n.n(m).a.randomBytes(10).toString("hex");var O=e=>{let[t,n]=Object(c.useState)(),{username:s}=Object(i.g)();Object(c.useEffect)((()=>{n(r())}),[]);let r=()=>Object(d.a)(1,1e9);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)("div",{className:"mt-5",children:Object(l.jsx)("center",{children:Object(l.jsx)("h2",{children:"Tic Tac Toe"})})}),Object(l.jsx)("div",{className:"mt-3",children:Object(l.jsxs)("center",{children:[Object(l.jsxs)("div",{className:"num-container",children:[Object(l.jsx)("span",{children:t}),Object(l.jsx)("span",{children:Object(l.jsx)(h.a,{style:{paddingLeft:"7px"},onClick:()=>{navigator.clipboard.writeText(t)}})})]}),Object(l.jsx)("div",{className:"mt-2",children:"Share this code to the second player"})]})})]}),Object(l.jsx)("div",{className:"mt-3",children:Object(l.jsx)("center",{children:Object(l.jsx)("button",{className:"btn next-btn",onClick:()=>{e.history.push(`/${s}/${t}/${u}`)},children:"Join"})})})]})};n(214);var x=e=>{let[t,n]=Object(c.useState)(""),{username:s}=Object(i.g)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)("div",{className:"mt-5",children:Object(l.jsx)("center",{children:Object(l.jsx)("h2",{children:"Tic Tac Toe"})})}),Object(l.jsx)("center",{children:Object(l.jsx)("div",{className:"input-container",children:Object(l.jsx)("input",{type:"text",value:t,className:"input",onChange:e=>{n(e.target.value)},placeholder:"Enter Room ID.. "})})}),Object(l.jsx)("div",{className:"mt-3",children:Object(l.jsx)("center",{children:Object(l.jsx)("button",{className:"btn next-btn",onClick:()=>{"undefined"===typeof t||t.lengh<=0?alert("Please Enter Room Id"):e.history.push(`/${s}/${t}/${u}`)},children:"Join"})})})]})})},p=(n(215),n(102));const f={height:"60px",width:"60px",fontSize:"20px"};var g;const v=e=>Object(l.jsxs)("p",{children:["Player ",e.index+1," : ",e.players[e.val],Object(l.jsxs)("span",{style:{marginLeft:"2%"},children:["Sign: ",0===e.index?String.fromCharCode(48):String.fromCharCode(10799)]})]}),y=()=>Object(l.jsx)("center",{children:Object(l.jsx)("h2",{children:"Please wait for another player..."})}),N=e=>e.pos<=8?Object(l.jsx)("input",{type:"button",value:e.sign?String.fromCharCode(e.sign):"",name:e.pos,className:"box",style:f,onClick:t=>e.btnclk(t),readOnly:!!e.sign}):null;var T=()=>{const{username:e,roomId:t,userId:n}=Object(i.g)(),s=Object(c.useRef)(0),[r,a]=Object(c.useState)({}),[j,o]=Object(c.useState)(Array(9).fill(null)),[d,b]=Object(c.useState)([1,2,3,4,5,6,7,8,9]),h=Object(i.f)(),m=Object(c.useRef)(null),u=()=>{const e=Object.keys(r);if(2===e.length){const t=e[s.current%2],n=r[t];m.current&&(m.current.innerText=`Turn: ${n}`)}};Object(c.useEffect)((()=>((g=Object(p.a)("http://localhost:5000")).emit("join-room",{user:e,roomId:t.toString(),userId:n}),g.on("setPlayer",(async e=>{await a((()=>e)),u()})),g.once("playerLeft",(t=>{alert(t.err),h.push(`/room/${e}`)})),()=>{g.disconnect()})),[e,t,n]),Object(c.useEffect)((()=>(g.on("move-made",(e=>{s.current=e.turn;let t=e.pos,n=[...j];(e.turn-1)%2===0?n[t]=48:n[t]=10799,o(n),b((e=>[...e,1])),u()})),g.on("gameFinished",(t=>{let n="";-1===t.winner?n="It's a draw!":48===t.winner?n="Player 1 wins!":10799===t.winner&&(n="Player 2 wins!");window.confirm(`${n}`);h.push(`/room/${e}`)})),g.on("gameReset",(e=>{o(e.pos),s.current=e.turn,u()})),()=>{g.off("gameReset")})),[j,h]);const O=async e=>{if(console.log(r),e.target.readOnly)alert("Already played.");else if(Object.keys(r)[s.current%2]===n){let n=[...j];n[parseInt(e.target.name)]=s.current%2===0?48:10799,s.current+=1,g.emit("make-move",{turn:s.current,roomId:t,pos:e.target.name,posArr:n})}else alert("Another player's turn.")};return Object(l.jsx)(l.Fragment,{children:2===Object.keys(r).length?Object(l.jsxs)("div",{className:"container-fuild",children:[Object(l.jsx)("div",{className:"mt-5",children:Object(l.jsx)("center",{children:Object(l.jsx)("h2",{children:"Tic Tac Toe"})})}),Object(l.jsxs)("div",{className:"details-container",children:[Object(l.jsxs)("p",{children:["Room ID : ",t]}),Object.keys(r).map(((e,t)=>Object(l.jsx)(v,{index:t,val:e,players:r},t)))]}),Object(l.jsxs)("center",{children:[Object(l.jsx)("div",{className:"controls",children:Object(l.jsx)("button",{className:"restart-btn",onClick:()=>{o(Array(9).fill(null)),b([1,2,3,4,5,6,7,8,9]),s.current=0,g.emit("reset-game",{roomId:t})},children:"Restart Game"})}),Object(l.jsx)("div",{className:"game-container",children:d.map(((e,t)=>Object(l.jsx)(N,{pos:t,sign:j[t],btnclk:O},t)))})]})]}):Object(l.jsx)(y,{})})};var k=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{exact:!0,path:"/",component:j}),Object(l.jsx)(i.a,{exact:!0,path:"/room/:username",component:o}),Object(l.jsx)(i.a,{exact:!0,path:"/:username/create-room",component:O}),Object(l.jsx)(i.a,{exact:!0,path:"/:username/join-room",component:x}),Object(l.jsx)(i.a,{exact:!0,path:"/:username/:roomId/:userId",component:T})]})})},C=n(23);a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(C.a,{children:Object(l.jsx)(k,{})})}),document.getElementById("root"))},26:function(e,t,n){}},[[217,1,2]]]);
//# sourceMappingURL=main.6440b3e4.chunk.js.map